<div class="row">
    <div class="col s12 m12 l12 z-depth-3 white-text teal">
        <h5 class=" center">{{pageData.pageHeading}}</h5>
    </div>
</div>
<a class="btn-floating btn-large waves-effect waves-light red right" href="/materials/material-request"><i class="material-icons">arrow_back</i></a>
<div class="row">
    <div class="col s12 m2 l2"></div>
    <div class="col s12 m8 l8 z-depth-3 white-text teal">
        <div class="collection">
            <a href="#!" class="collection-item"><span class="badge" id="material_request_number">{{pageData.material_request_number}}</span>Request Number</a>
            <a href="#!" class="collection-item"><span class="badge">{{pageData.material_requester}}</span>Requester</a>
            <a href="#!" class="collection-item"><span class="badge">{{pageData.material_request_status}}</span>Staus</a>
            <a href="#!" class="collection-item"><span class="badge">{{pageData.created_at}}</span>Requsted date</a>
        </div>
    </div>
    <div class="col s12 m2 l2 " style="padding-top: 10px;">
        <a class="btn-floating btn-large waves-effect waves-light green right modal-trigger tooltipped" data-position="left" 
        data-tooltip="Add new item to the request" href="" data-target="modal1" id="add_item"><i class="material-icons">add</i></a>
    </div>
    {{#if pageData.isAdmin }}
    <div class="col s12 m2 l2 " style="padding-top: 10px;">
        <a class="btn-floating btn-large waves-effect waves-light teal right tooltipped" data-position="left" 
        data-tooltip="Mark to delivery" href="/materials/material-request-addto-delivery/{{pageData.material_request_number}}"><i class="material-icons">airport_shuttle</i></a>
    </div>
    {{/if}}
</div>
<div class="row">
    <table class="highlight">
        <thead>
            <tr>
                <th>Request Number</th>
                <th>Model</th>
                <th>Qty</th>
                <th>Request Status</th>
                <th>Created on</th>
                <th>Remove</th>
            </tr>
        </thead>
        <tbody>
        {{#each pageData.material_requests}}
          <tr>
            <td>{{this.material_request_number}}</td>
            <td>{{this.material_model}}</td>
            <td>{{this.material_qty}}</td>
            <td><button class="waves-effect waves-light btn changeStatus modal-trigger" data-target="modal2" id="{{this.material_request_number}}">{{this.material_request_status}}</button></td>
            <td>{{this.created_at}}</td>
            <td><a class="btn-floating btn-small waves-effect waves-light red deleteReq" href="{{this.material_request_number}}"><i class="material-icons" >delete</i></a></td>
          </tr>
        {{/each}}
        </tbody>
      </table>
</div>
<div id="modal1" class="modal" >
    <div class="modal-content">
    <h4>Add item</h4>
    <form class="col s12" name="newRequestForm" id="newRequestForm" method="post" >
        <div class="row">
            <div class="input-field col s12 m12 l12">
                <select id="select_category" class="browser-default" required>
                </select>
            </div>
            <div class="input-field col s12 m12 l12">
                <select id="select_brand" class="browser-default" required>
                </select>
            </div>
            <div class="input-field col s12 m12 l12">
                <select id="select_model" class="browser-default" name="material_model" required>
                </select>
            </div>
            <div class="input-field col s12 m12 l12" id="required_quantity">
                <input placeholder="eg:" id="item_quantity" type="text" class="validate" name="material_qty" required>
                <label for="item_quantity">Quantity</label>
            </div>
            <div class="modal-footer">
                <button class="modal-close waves-effect waves-green teal btn-flat" type="submit">Submit</button>
            </div>
        </div>
    </form>
    </div>
</div>
<div id="modal2" class="modal" >
    <div class="modal-content">
    <h4>Change Status</h4>
      <select id="change_status" class="input-field">
        <option value="Open">Open</option>
        <option value="Pending">Pending</option>
        <option value="Completed">Completed</option>
    </select>
    </div>
    <div class="modal-footer">
        <button class="modal-close waves-effect waves-green btn-flat" id="submit_status">Submit</button>
    </div>
</div>
<!--<div id="deliveryModal" class="modal" >
    <div class="modal-content">
     <p>Select material</p>
      {{#each pageData.material_requests}}
    <label>
        <input type="checkbox" class="filled-in" checked="" id="{{this.material_request_number}}" />
        <span>{{this.material_request_number}}</span>
      </label>
     {{/each}}
     <div class="section"></div>
     <div class="section"></div>
    <hr/>
    <p>Add to exisiting</p>
    </div>
    <div class="modal-footer">
        <button class="modal-close waves-effect waves-green green btn-flat" id="add_to_delivery">Yes</button>
    </div>
</div>-->
<script src="/javascripts/material-request-page.js"> </script>